---
title: 实习周报（持续更新）
date: 2017-07-14 17:15:19
categories: 实习任务
tags: [md5,文件处理,分词]
password: password
---
实习任务汇总
<!-- more -->
# 第一周实习任务

## 一、在step2中实现上传文件按照内容、文件名、文件路径进行重新分类
遇到的问题：
	1、保存文件时，该文件相应的FileInfo的信息保存错误
	2、获取文件上级目录名称时，	取的文件路径分隔符为Windows的分隔符，
	在Linux下不适用，导致在本地运行成功，在服务器上运行出错
解决方法：
	1、将方法传入的FileInfo作为新文件的FileInfo，而不是重新创建一个FileInfo
	2、将文件路径分隔符换成操作系统通用的标识

## 二、解决上传文件名称存在相同但是内容不同的问题
>>之前遇到文件名相同的情况都是直接覆盖掉，这种处理方式不佳

遇到的问题：
	1、怎么进行文件内容是否相同的判断
	2、新上传的文件怎么和原文件进行文件名称上的区分
解决方法：
	1、利用文件的MD5值来进行文件内容是否一致的判断
	2、由于要做到唯一标识的效果，就采用了在新上传文件后面加上当前时间的标识

## 三、学习数据结构、设计模式
看了一下设计模式，修改了一部分代码。
例：将IsClass类中的经常被外部调用的方法改为静态方法，这样做不用每次调用就去生成一个对象，节省了时间和空间。

# 第二周实习任务
## 一、基于分词的文件名称拆分方案
**按文件名拆分的时候可以像按路径名拆分一样，为用户提供多级拆分方案**

```
例如：
冷却水每天.csv
冷却水每小时.csv
锅炉水每天.csv
锅炉水每小时.csv

四个文件，指向按文件名拆分，会有二级提示：
	每小时/每天
点击之后分为两类:
每小时
	冷却水每小时.csv
	锅炉水每小时.csv
每天
	冷却水每天.csv
	锅炉水每天.csv
```
初步决定为三步：
### 1.编写消除文件名中特殊字符（虚拟词、空格等）的方法
该方法为拆分方案做准备，去掉特殊字符，去掉时间数字，去掉空格
### 2.编写按文件名分词拆分方案方法
根据文件名，利用分词判断出拆分方案，返回给前端

```
在该部分代码编写时，发现加载分词SegPos很慢，然而以前的系统每次使用都采用了重新加载的方式，导致效率低下

解决方案：
另外写一个SegUtils类用来提供有关分词的一切方法。
在该类中有静态变量SegPos和静态变量SegOnly，两个静态变量都是在静态代码块中进行初始化，该类为外部提供获取两个变量的get方法。
这样，以后只需要加载一次SegUtils类，其他地方使用SegPos就不用等很久了。

结论：提高了分词加载时的效率。
```

### 3.编写按文件名拆分方法，用到上面的工具方法
```
遇到之前的一个bug：
新上传文件的时候，如果上传的Excel表有一个sheet为空，则不会创建相应的csv文件，但是遍历的时候却要去遍历，会抛出空指针异常
```


## 二、Excel表头相似性判断方法优化

## 三、熟悉数据结构知识，优化代码

## 四、搭建非关系型数据库（根据石墨文档来搭建），并提出文档的不足
