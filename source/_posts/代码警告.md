---
title: 那些年经历过的编码警告（持续更新）
date: 2017-07-17 16:23:26
categories: java
tags: 代码规范
---
记录遇到的代码警告
<!-- more -->
### try catch中catch块臃肿
**catch块臃肿**
![](http://ot87uvd34.bkt.clouddn.com/1499995978560.jpg)
![](http://ot87uvd34.bkt.clouddn.com/1499995978561.jpg)
>>虽然不会报错，但是会有警告。

正确的书写方式如下：

```java
try{
	//...
} catch (IOException | ClassNotFoundException e){
	e.printStackTrace();
}
```

>>可以看到，通过 `|` 运算符号折叠成一个判断语句，这个符号有”或”的意思，在这里理解非常合适。

应该是java意识到了catch语句的臃肿，所以在JDK中开始建议这种模式来捕获异常。

### 集合泛型检查警告
![](http://ot87uvd34.bkt.clouddn.com/%E9%9B%86%E5%90%88%E6%B3%9B%E5%9E%8B%E6%A3%80%E6%9F%A5%E8%AD%A6%E5%91%8A.png)
>>该警告就是集合在创建是没有用泛型指定存储的对象类型

**解决方式：**
1. 为集合指定泛型
```java
	List<String> list = new ArrayList<String>();
```
2. 利用Commons工具包生成集合
```java
import com.google.common.collect.Lists;
	List<String> list = Lists.newArrayList();
```

>>其他集合类型如：`Map`、`Set`类似

### 一些清晰易懂的警告
#### 1、空指针警告
![](http://ot87uvd34.bkt.clouddn.com/%E7%A9%BA%E6%8C%87%E9%92%88%E8%AD%A6%E5%91%8A.png)
>>该警告意思是可能报空指针异常，也就是没有做安全处理。
消除警告的做法就是在调用方法之前，对有可能出现空指针异常的对象做是否为空的判断，也就是安全处理。

#### 2、忽略返回值警告
![](http://ot87uvd34.bkt.clouddn.com/%E5%BF%BD%E7%95%A5%E8%BF%94%E5%9B%9E%E5%80%BC%E8%AD%A6%E5%91%8A.png)
>>该警告消除方式为定义一个该方法的返回值类型去接收返回值。

